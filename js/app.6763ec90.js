(function(e){function t(t){for(var r,c,a=t[0],u=t[1],f=t[2],s=0,p=[];s<a.length;s++)c=a[s],o[c]&&p.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,f||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/test-line/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var f=0;f<a.length;f++)t(a[f]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("27fb"),o=n.n(r);o.a},"27fb":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f576"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("line-login-button",{attrs:{"client-id":e.clientId,"client-secret":e.clientSecret,"callback-uri":e.callbackUri,"login-text":"<span class='ok'>OK LINE</span>","add-friend":"","friend-required":""},on:{result:e.result}})],1)},i=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{staticClass:"btn btn-block btn-social btn-line",on:{click:e.login}},[n("span",{staticClass:"fa fa-line"}),n("span",{domProps:{innerHTML:e._s(e.loginText)}})]),e.error?n("span",{staticStyle:{color:"#dc3545","font-size":"80%"}},[e._v(e._s(e.error))]):e._e()])},a=[],u=n("b383"),f=n.n(u),l=n("cebe"),s=n.n(l),p=n("6815"),d=n.n(p);function b(e){return b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function v(e,t){return!t||"object"!==b(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}var S=["grantType","clientId","clientSecret","redirectUri","code"],O=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return h(this,t),e=v(this,w(t).call(this)),e.fillable=S,e.grantType="authorization_code",e.clientId="",e.clientSecret="",e.redirectUri="",e.code="",e.data=n,e}return k(t,e),g(t,[{key:"_model",get:function(){return"OAuthRequest"}}]),t}(d.a),x=n("0063"),T=n.n(x);function j(e){return j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function E(e,t){return!t||"object"!==j(t)&&"function"!==typeof t?q(e):t}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function B(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}var M=["accessToken","expiresIn","refreshToken","tokenType","idToken","scope"],z=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return P(this,t),e=E(this,U(t).call(this)),e.fillable=M,e.accessToken="",e.expiresIn="",e.refreshToken="",e.idToken="",e.scope="",e.tokenType="Bearer",e.data=n,e}return B(t,e),I(t,[{key:"_model",get:function(){return"OAuthResult"}},{key:"token",get:function(){return this.accessToken},set:function(e){this.accessToken=e}}]),t}(d.a);function A(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(f){return void n(f)}a.done?t(u):Promise.resolve(u).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function c(e){A(i,r,o,c,a,"next",e)}function a(e){A(i,r,o,c,a,"throw",e)}c(void 0)})}}var F={name:"line-login-button",data:function(){return{error:""}},props:{clientId:{type:String,require:!0},clientSecret:{type:String,require:!0},callbackUri:{type:String,require:!0},addFriend:{type:Boolean,require:!1},friendRequired:{type:Boolean,require:!1},friendErrorTest:{type:String,require:!1,default:"友達に追加してください。"},loginText:{type:String,require:!1,default:"LINEでログイン"}},created:function(){var e=C(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=f.a.parse(window.location.search.replace("?","")),n=t.code,n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.getToken(n);case 5:r=e.sent,console.log("#### token",r),console.log("#### token TEST",r.token);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{login:function(){var e="https://access.line.me/oauth2/v2.1/authorize",t={response_type:"code",client_id:this.clientId,redirect_uri:this.callbackUri,state:Math.random().toString(32).substring(2),scope:"openid profile"};window.location.href="".concat(e,"?").concat(f.a.stringify(t))},getToken:function(){var e=C(regeneratorRuntime.mark(function e(t){var n,r,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=new O({code:t,clientId:this.clientId,clientSecret:this.clientSecret,redirectUri:this.callbackUri}),r=new URLSearchParams,T.a.from(n.getPostable()).select(function(e){return r.append(e.key,e.value)}).toArray(),console.log({params:r.toString()}),e.next=6,s.a.post("https://api.line.me/oauth2/v2.1/token",r);case 6:return o=e.sent,i=o.data,e.abrupt("return",new z(i));case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getProfile:function(){var e=C(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("https://api.line.me/v2/profile",{headers:{Authorization:"Bearer ".concat(t)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),checkFriend:function(){var e=C(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("https://api.line.me/friendship/v1/status",{headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r.friendFlag);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}},$=F,J=(n("b320"),n("2877")),N=Object(J["a"])($,c,a,!1,null,null,null),H=N.exports,K={data:function(){return{clientId:"",clientSecret:"",callbackUri:""}},created:function(){this.clientId="1657823519",this.clientSecret="ea99d3b8bc00a6fc708f0b180d2b4545",this.callbackUri="http://192.168.1.37:8081"},components:{LineLoginButton:H},methods:{result:function(e){console.log(e)}}},D=K,G=(n("034f"),Object(J["a"])(D,o,i,!1,null,null,null)),Q=G.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(Q)}}).$mount("#app")},b320:function(e,t,n){"use strict";var r=n("edf5"),o=n.n(r);o.a},cebe:function(e,t){e.exports=axios},edf5:function(e,t,n){}});